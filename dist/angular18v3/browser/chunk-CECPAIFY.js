import{$ as x,Aa as g,Ba as S,Ca as D,Da as o,Ea as i,Ga as U,Ha as l,Ia as m,Ja as s,Ka as T,L as y,La as c,Qa as _,R as p,T as u,aa as v,ea as I,kb as k,oa as r,ta as f,xa as b,ya as E}from"./chunk-BG3LXGZX.js";var C=class t{message="";userId;send=new I;notifyParent(){this.send.emit(this.userId)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-child"]],inputs:{message:"message",userId:"userId"},outputs:{send:"send"},standalone:!0,features:[_],decls:2,vars:1,consts:[[3,"click"]],template:function(e,a){e&1&&(o(0,"p",0),l("click",function(){return a.notifyParent()}),s(1),i()),e&2&&(r(),c("\u{1F464} ",a.message,""))},encapsulation:2})};var h=class t{http=p(k);users=f([]);loading=f(!1);selectedUser=f(null);loadUsers(){this.loading.set(!0),this.http.get("https://jsonplaceholder.typicode.com/users").subscribe({next:n=>this.users.set(n),complete:()=>this.loading.set(!1)})}loadUserById(n){this.http.get(`https://jsonplaceholder.typicode.com/users/${n}`).subscribe(e=>this.selectedUser.set(e))}clearSelection(){this.selectedUser.set(null)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};var V=(t,n)=>n.id;function P(t,n){t&1&&(o(0,"p"),s(1,"Loading users..."),i())}function N(t,n){if(t&1){let e=U();o(0,"app-child",3),l("send",function(d){x(e);let j=m(2);return v(j.onChildMsg(d))}),i()}if(t&2){let e=n.$implicit;E("message",e.name)("userId",e.id)}}function $(t,n){if(t&1&&(o(0,"ul"),S(1,N,1,2,"app-child",2,V),i()),t&2){let e=m();r(),D(e.service.users())}}function B(t,n){if(t&1){let e=U();o(0,"div",1)(1,"h3"),s(2),i(),o(3,"p")(4,"strong"),s(5,"Email:"),i(),s(6),i(),o(7,"p")(8,"strong"),s(9,"Phone:"),i(),s(10),i(),o(11,"p")(12,"strong"),s(13,"Company:"),i(),s(14),i(),o(15,"button",0),l("click",function(){x(e);let d=m();return v(d.closeDetail())}),s(16,"Close"),i()()}if(t&2){let e=m();r(2),T(e.service.selectedUser().name),r(4),c(" ",e.service.selectedUser().email,""),r(4),c(" ",e.service.selectedUser().phone,""),r(4),c(" ",e.service.selectedUser().company.name,"")}}var F=class t{service=p(h);onChildMsg(n){this.service.loadUserById(n)}closeDetail(){this.service.clearSelection()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-users"]],standalone:!0,features:[_],decls:7,vars:2,consts:[[3,"click"],[1,"modal"],[3,"message","userId"],[3,"send","message","userId"]],template:function(e,a){e&1&&(o(0,"h2"),s(1,"Users"),i(),o(2,"button",0),l("click",function(){return a.service.loadUsers()}),s(3,"Reload"),i(),b(4,P,2,0,"p")(5,$,3,0,"ul")(6,B,17,4,"div",1)),e&2&&(r(4),g(a.service.loading()?4:5),r(2),g(a.service.selectedUser()?6:-1))},dependencies:[C],encapsulation:2})};export{F as UsersComponent};
